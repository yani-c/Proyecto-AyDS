{"ast":null,"code":"var _jsxFileName = \"/home/alvaro/Escritorio/Proyecto-AyDS/admin/src/component/SignIn.js\";\nimport React, { Component, alert } from \"react\";\nimport { AsyncStorage } from \"AsyncStorage\";\n\nclass SignIn extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      username: '',\n      password: ''\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  handleChange(event) {\n    this.setState({\n      username: event.target.username,\n      password: event.target.password\n    });\n  }\n\n  handleSubmit(event) {\n    alert('A user was submitted: ' + this.state.username);\n    event.preventDefault();\n  }\n  /*\n  componentDidMount(){\n     // var u = this.state.username;\n     // var p = this.state.username;\n      fetch(process.env.REACT_APP_API_HOST+\"/login\",{\n          method: 'POST', \n          body: JSON.stringify({username: this.state.username, password: this.state.password}), \n          mode: \"no-cors\"\n        }) \n        .then(response => {\n          console.log(response);\n            AsyncStorage.setItem('userToken', response.config.headers.Authorization);\n            ReactDOM.render(\n               <Menu/>,\n                document.getElementById('root')\n            )\n          })\n          .catch(error => {\n            console.log(error)\n          });\n               \n  }*/\n\n\n  login() {\n    const h = new Headers();\n    fetch(process.env.REACT_APP_API_HOST + \"/login\", {\n      method: 'POST',\n      headers: h,\n      body: JSON.stringify({\n        username: this.state.username,\n        password: this.state.password\n      }),\n      mode: \"no-cors\"\n    }).then(response => {\n      console.log(JSON.stringify(response));\n      AsyncStorage.setItem('userToken', response.config.headers.Authorization);\n      this.props.history.push('/Menu');\n    }).catch(error => {\n      console.log(error);\n    });\n  }\n\n  render() {\n    return React.createElement(\"form\", {\n      onSubmit: this.login(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }, \"username:\", React.createElement(\"input\", {\n      type: \"text\",\n      username: this.state.username,\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    })), React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }, \"password:\", React.createElement(\"input\", {\n      type: \"password\",\n      password: this.state.password,\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    })), React.createElement(\"button\", {\n      type: \"submit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }, \" iniciar sesion\"));\n  }\n\n}\n\nexport default SignIn;","map":{"version":3,"sources":["/home/alvaro/Escritorio/Proyecto-AyDS/admin/src/component/SignIn.js"],"names":["React","Component","alert","AsyncStorage","SignIn","constructor","props","state","username","password","handleChange","bind","handleSubmit","event","setState","target","preventDefault","login","h","Headers","fetch","process","env","REACT_APP_API_HOST","method","headers","body","JSON","stringify","mode","then","response","console","log","setItem","config","Authorization","history","push","catch","error","render"],"mappings":";AAAA,OAAOA,KAAP,IAAcC,SAAd,EAAwBC,KAAxB,QAAoC,OAApC;AACA,SAAQC,YAAR,QAA2B,cAA3B;;AAEA,MAAMC,MAAN,SAAqBH,SAArB,CAA8B;AAC1BI,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;AACA,SAAKC,KAAL,GAAa;AAACC,MAAAA,QAAQ,EAAE,EAAX;AAAcC,MAAAA,QAAQ,EAAE;AAAxB,KAAb;AAEA,SAAKC,YAAL,GAAoB,KAAKA,YAAL,CAAkBC,IAAlB,CAAuB,IAAvB,CAApB;AACA,SAAKC,YAAL,GAAoB,KAAKA,YAAL,CAAkBD,IAAlB,CAAuB,IAAvB,CAApB;AACD;;AAEDD,EAAAA,YAAY,CAACG,KAAD,EAAQ;AAClB,SAAKC,QAAL,CAAc;AAACN,MAAAA,QAAQ,EAAEK,KAAK,CAACE,MAAN,CAAaP,QAAxB;AAAkCC,MAAAA,QAAQ,EAAEI,KAAK,CAACE,MAAN,CAAaN;AAAzD,KAAd;AACD;;AAEDG,EAAAA,YAAY,CAACC,KAAD,EAAQ;AAClBX,IAAAA,KAAK,CAAC,2BAA2B,KAAKK,KAAL,CAAWC,QAAvC,CAAL;AACAK,IAAAA,KAAK,CAACG,cAAN;AACD;AACD;;;;;;;;;;;;;;;;;;;;;;;;AAuBAC,EAAAA,KAAK,GAAE;AACL,UAAMC,CAAC,GAAG,IAAIC,OAAJ,EAAV;AACAC,IAAAA,KAAK,CAACC,OAAO,CAACC,GAAR,CAAYC,kBAAZ,GAA+B,QAAhC,EAAyC;AACxCC,MAAAA,MAAM,EAAE,MADgC;AAExCC,MAAAA,OAAO,EAAEP,CAF+B;AAGxCQ,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AAACpB,QAAAA,QAAQ,EAAE,KAAKD,KAAL,CAAWC,QAAtB;AAAgCC,QAAAA,QAAQ,EAAE,KAAKF,KAAL,CAAWE;AAArD,OAAf,CAHkC;AAIxCoB,MAAAA,IAAI,EAAE;AAJkC,KAAzC,CAAL,CAMKC,IANL,CAMUC,QAAQ,IAAI;AAChBC,MAAAA,OAAO,CAACC,GAAR,CAAYN,IAAI,CAACC,SAAL,CAAeG,QAAf,CAAZ;AACE5B,MAAAA,YAAY,CAAC+B,OAAb,CAAqB,WAArB,EAAkCH,QAAQ,CAACI,MAAT,CAAgBV,OAAhB,CAAwBW,aAA1D;AACA,WAAK9B,KAAL,CAAW+B,OAAX,CAAmBC,IAAnB,CAAwB,OAAxB;AACD,KAVP,EAWOC,KAXP,CAWaC,KAAK,IAAI;AACdR,MAAAA,OAAO,CAACC,GAAR,CAAYO,KAAZ;AACD,KAbP;AAcD;;AAELC,EAAAA,MAAM,GAAI;AACJ,WACI;AAAM,MAAA,QAAQ,EAAE,KAAKxB,KAAL,EAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAEA;AAAO,MAAA,IAAI,EAAC,MAAZ;AAAmB,MAAA,QAAQ,EAAE,KAAKV,KAAL,CAAWC,QAAxC;AAAkD,MAAA,QAAQ,EAAE,KAAKE,YAAjE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFA,CADA,EAKA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAEA;AAAO,MAAA,IAAI,EAAC,UAAZ;AAAuB,MAAA,QAAQ,EAAE,KAAKH,KAAL,CAAWE,QAA5C;AAAsD,MAAA,QAAQ,EAAE,KAAKC,YAArE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFA,CALA,EASA;AAAQ,MAAA,IAAI,EAAC,QAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBATA,CADJ;AAaL;;AAxE2B;;AA4E9B,eAAeN,MAAf","sourcesContent":["import React,{Component,alert} from \"react\";\nimport {AsyncStorage} from \"AsyncStorage\";\n\nclass SignIn extends Component{\n    constructor(props) {\n        super(props);\n        this.state = {username: '',password: ''};\n    \n        this.handleChange = this.handleChange.bind(this);\n        this.handleSubmit = this.handleSubmit.bind(this);\n      }\n    \n      handleChange(event) {\n        this.setState({username: event.target.username, password: event.target.password});\n      }\n    \n      handleSubmit(event) {\n        alert('A user was submitted: ' + this.state.username);\n        event.preventDefault();\n      }\n      /*\n      componentDidMount(){\n         // var u = this.state.username;\n         // var p = this.state.username;\n          fetch(process.env.REACT_APP_API_HOST+\"/login\",{\n              method: 'POST', \n              body: JSON.stringify({username: this.state.username, password: this.state.password}), \n              mode: \"no-cors\"\n            }) \n            .then(response => {\n              console.log(response);\n                AsyncStorage.setItem('userToken', response.config.headers.Authorization);\n                ReactDOM.render(\n                   <Menu/>,\n                    document.getElementById('root')\n                )\n              })\n              .catch(error => {\n                console.log(error)\n              });\n                   \n      }*/\n\n      login(){\n        const h = new Headers(); \n        fetch(process.env.REACT_APP_API_HOST+\"/login\",{\n              method: 'POST', \n              headers: h,\n              body: JSON.stringify({username: this.state.username, password: this.state.password}), \n              mode: \"no-cors\"\n            }) \n            .then(response => {\n              console.log(JSON.stringify(response));\n                AsyncStorage.setItem('userToken', response.config.headers.Authorization);\n                this.props.history.push('/Menu');\n              })\n              .catch(error => {\n                console.log(error)\n              });\n      }\n\n  render () {\n        return (\n            <form onSubmit={this.login()}>\n            <label>\n            username:\n            <input type=\"text\" username={this.state.username} onChange={this.handleChange} />\n            </label>\n            <label>\n            password:\n            <input type=\"password\" password={this.state.password} onChange={this.handleChange} />\n            </label>\n            <button type=\"submit\"> iniciar sesion</button>\n        </form>\n        ); \n  }\n}\n\n\nexport default SignIn;"]},"metadata":{},"sourceType":"module"}